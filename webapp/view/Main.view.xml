<mvc:View
    controllerName="z002sb005.controller.Main"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
	xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:core="sap.ui.core"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:table="sap.ui.table"
    xmlns:u="sap.ui.unified"
    xmlns:sap.ui.fl="sap.ui.fl"
    xmlns:sap.ui.dt="sap.ui.dt"
    xmlns:vm="sap.ui.fl.variants"
>
    <f:DynamicPage id="page">
        <f:header>
            <f:DynamicPageHeader>
                <f:content>
                    <smartFilterBar:SmartFilterBar
                        id="mm0003.smartFilterBar"
                        entitySet="Z002_SB_005_R_01Results"
                        persistencyKey="mm0003_smartFilterBar"
                        search=".onSearch">
                        <smartFilterBar:controlConfiguration>
                            <smartFilterBar:ControlConfiguration
                                key="sspmon"
                                visibleInAdvancedArea="true"
                                preventInitialDataFetchInValueHelpDialog="false"
                                visible="false">
                            </smartFilterBar:ControlConfiguration>
                            
                            <smartFilterBar:ControlConfiguration
                                key="espmon"
                                visibleInAdvancedArea="true"
                                preventInitialDataFetchInValueHelpDialog="false"
                                visible="false">
                            </smartFilterBar:ControlConfiguration>

                            <smartFilterBar:ControlConfiguration
                                key="Spmon"
                                mandatory="mandatory"
                                visibleInAdvancedArea="true"
                                preventInitialDataFetchInValueHelpDialog="false">
                                <smartFilterBar:customControl>
                                    <DateRangeSelection id="mm0003.dateRangeSelection" displayFormat="yyyyMM" />
                                </smartFilterBar:customControl>
                            </smartFilterBar:ControlConfiguration>
                        </smartFilterBar:controlConfiguration>
                        <smartFilterBar:layoutData>
                            <FlexItemData shrinkFactor="0" />
                        </smartFilterBar:layoutData>
                    </smartFilterBar:SmartFilterBar>
                </f:content>
            </f:DynamicPageHeader>
        </f:header>

        <f:content>
            <table:Table
                id="idTable"
                selectionMode="None"
                selectionBehavior="Row"
                rowMode="Auto"
                threshold="3"
                rowsUpdated=".onRowsUpdated"
                sort=".onSort"
                columnResize="onColumnResize"
                columnMove="onColumnMove"
                rows="{ path: 'DataModel>/items' }"
                sap.ui.fl:flexibility="sap/m/flexibility/EngineFlex"
                enableBusyIndicator="true"
            >
                <table:extension>
                    <Toolbar height="45px">
                        <Title
                            text="{i18n>itleTable}"
                            level="H2"
                        />
                        <ToolbarSeparator />
                        <vm:VariantManagement
                            id="idp13nVm"
                            for="idTable"
                        />
                        <ToolbarSpacer />

                        <ToolbarSeparator />
                        <Button
                            icon="sap-icon://excel-attachment"
                            text="{i18n>BTN_EXCEL_DOWN}"
                            tooltip="Excel export"
                            press=".excelExport"
                        />

                        <ToolbarSeparator />
                        <Button
                            icon="sap-icon://action-settings"
                            press=".openPersoDialog"
                        />
                    </Toolbar>
                </table:extension>
                <table:columns>
                    <table:Column
                        width="150px"
                        id="idColBwkey"
                        autoResizable="true"
                        app:p13nKey="idColBwkey">
                        <Label text="플랜트" />
                        <table:template>
                            <Text text="{DataModel>Bwkey}" />
                        </table:template>
                    </table:Column>
                    <table:Column
                        width="150px"
                        id="idColBklast"
                        autoResizable="true"
                        app:p13nKey="idColBklast">
                        <Label text="평가클래스명" />
                        <table:template>
                            <Text text="{DataModel>Bklast}" />
                        </table:template>
                    </table:Column>  
                    <table:Column
                        width="150px"
                        id="idColmaktx"
                        autoResizable="true"
                        app:p13nKey="idColmaktx"
                    >
                        <Label text="자재명" />
                        <table:template>
                            <Text text="{DataModel>maktx}" />
                        </table:template>
                    </table:Column>
                    <table:Column
                        width="150px"
                        id="idColMatnr"
                        autoResizable="true"
                        app:p13nKey="idColMatnr"
                    >
                        <Label text="자재번호" />
                        <table:template>
                            <Text text="{DataModel>Matnr}" />
                        </table:template>
                    </table:Column>
                    <!-- <table:Column
                        width="150px"
                        id="idColExtwg"
                        app:p13nKey="idColExtwg"
                    >
                        <Label text="분류1" />
                        <table:template>
                            <Text text="{DataModel>Extwg}" />
                        </table:template>
                    </table:Column>
                    <table:Column
                        width="150px"
                        id="idColExtwgt"
                        app:p13nKey="idColExtwgt"
                    >
                        <Label text="분류1명" />
                        <table:template>
                            <Text text="{DataModel>Extwgt}" />
                        </table:template>
                    </table:Column> -->
                    <table:Column
                        width="150px"
                        id="idColMatkl"
                        autoResizable="true"
                        app:p13nKey="idColMatkl"
                    >
                        <Label text="제품그룹" />
                        <table:template>
                            <Text text="{DataModel>Matkl}" />
                        </table:template>
                    </table:Column>
                    <table:Column
                        width="150px"
                        id="idColMatklt"
                        autoResizable="true"
                        app:p13nKey="idColMatklt"
                    >
                        <Label text="제품그룹명" />
                        <table:template>
                            <Text text="{DataModel>Matklt}" />
                        </table:template>
                    </table:Column>
                    <table:Column
                        width="150px"
                        id="idColSpmon"
                        autoResizable="true"
                        app:p13nKey="idColSpmon"
                    >
                        <Label text="조회년월" />
                        <table:template>
                            <Text text="{DataModel>Spmon}" />
                        </table:template>
                    </table:Column>
                    <table:Column
                        width="150px"
                        id="idColBklas"
                        autoResizable="true"
                        app:p13nKey="idColBklas"
                    >
                        <Label text="평가클래스" />
                        <table:template>
                            <Text text="{DataModel>Bklas}" />
                        </table:template>
                    </table:Column>
                    <table:Column
                        width="150px"
                        id="idColMeins"
                        autoResizable="true"
                        app:p13nKey="idColMeins"
                    >
                        <Label text="단위" />
                        <table:template>
                            <Text text="{DataModel>Meins}" />
                        </table:template>
                    </table:Column>
                    <table:Column
                        width="150px"
                        id="idColWaers"
                        autoResizable="true"
                        app:p13nKey="idColWaers"
                    >
                        <Label text="통화" />
                        <table:template>
                            <Text text="{DataModel>Waers}" />
                        </table:template>
                    </table:Column>
                </table:columns>
            </table:Table>        
            <!-- <smartTable:SmartTable
                id="mm0003.smartTable"
                smartFilterId="mm0003.smartFilterBar"
                header="수불부"
                showRowCount="true"
                entitySet="Z002_SB_005_R_01Results"
                tableType="AnalyticalTable"
                initiallyVisibleFields=""
                requestAtLeastFields=""
                enableAutoBinding="false"
                beforeRebindTable=".onBeforeRebindTable"
                showOverlay="true"
                enableAutoColumnWidth="true"
                useVariantManagement="true"
                useTablePersonalisation="true"
                persistencyKey="mm0003_smartTable"
                enableExport="true"
                enableCopy="false"
                enablePaste="false"
                app:useSmartToggle="true">
                <smartTable:layoutData>
                    <FlexItemData growFactor="1" baseSize="0%" />
                </smartTable:layoutData>
            </smartTable:SmartTable> -->
        </f:content>
    </f:DynamicPage>
</mvc:View>
